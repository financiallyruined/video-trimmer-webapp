<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Advanced Video Trimmer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  </head>
  <body>
    <div class="container index-container">
      <div class="user-info">
        <span class="welcome-message">Welcome, <span id="username">User</span>!</span>
        <div>
          <a href="/my_videos">My Videos</a>
          <a href="/logout">Logout</a>
        </div>
      </div>
      <h1>Advanced Video Trimmer</h1>
      <form id="trim-form">
        <div class="input-group">
          <label for="directory-browser">Select video file:</label>
          <div id="directory-browser" class="directory-browser"></div>
          <input type="hidden" name="file" id="selected-file" />
          <div id="selected-file-display"></div>
        </div>
        <div class="input-group">
          <label for="custom-path">Or enter custom video path:</label>
          <input type="text" name="custom_path" id="custom-path" placeholder="/path/to/your/video.mp4" />
        </div>

        <div id="time-segments">
          <div class="time-segment fade-in">
            <input type="text" name="start_time_0" class="start-time" pattern="^(?:(?:([0-9]{1,2}):)?([0-5]?[0-9]):)?([0-5]?[0-9])$" placeholder="Start time (HH:MM:SS)" required />
            <input type="text" name="end_time_0" class="end-time" pattern="^(?:(?:([0-9]{1,2}):)?([0-5]?[0-9]):)?([0-5]?[0-9])$" placeholder="End time (HH:MM:SS)" required />
            <button type="button" class="remove-segment" onclick="removeSegment(this)">Ã—</button>
          </div>
        </div>

        <button type="button" id="add-segment">Add Time Segment</button>

        <button type="submit">Trim Video</button>
      </form>
      <p id="error-message" class="error"></p>

      <div id="progress-container">
        <h2>Trimming Progress</h2>
        <div id="progress-bar">
          <span id="progress-bar-fill"></span>
        </div>
        <p id="progress-text">0%</p>
      </div>

      <div id="download-link">
        <a href="#" id="download-button">Download Trimmed Video</a>
        <div id="trimmed-video-info"></div>
      </div>
    </div>

<script src="{{ url_for('static', filename='js/index.js') }}"></script>
  </body>
</html>
